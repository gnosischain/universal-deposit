# =========================
# Universal Deposit Backend
# Node 22 LTS
# =========================

# Service toggles (default: run all if unset)
RUN_API=true
RUN_BALANCE_WATCHER=true
RUN_DEPLOY_WORKER=true
RUN_SETTLE_WORKER=true

# API
API_PORT=3000
# Public base URL for API (used by Swagger/OpenAPI). Absolute URL.
API_PUBLIC_URL=

# Datastores
DATABASE_URL=postgresql://postgres:postgres@postgres:5432/universal_deposit
REDIS_URL=redis://localhost:6379
RABBITMQ_URL=amqp://admin:password@localhost:5672

# Rate limiting
RATE_LIMIT_WINDOW_MS=86400000
RATE_LIMIT_MAX_REQUESTS=100

# Residual delays (ms) - 5m,10m,30min,1h,3h
RESIDUAL_DELAY_SCHEDULE=300000,600000,1800000,3600000,10800000

# Keys (use secure management in prod; fund settlement key with native gas)
# address - 0x
DEPLOYMENT_PRIVATE_KEY=0x0000000000000000000000000000000000000000000000000000000000000000
SETTLEMENT_PRIVATE_KEY=0x0000000000000000000000000000000000000000000000000000000000000000

RPC_API_KEY=

# Policy flags / testing
VERIFY_DEST_CHAIN=false
# 5 secs
BALANCE_CHECK_INTERVAL_MS=5000

DEVELOPER_MASTER_KEY=dev-master-key-change-in-production-32chars

HEARTBEAT_INTERVAL_MS=5000
SLIPPAGE_PERCENTAGE=500


ENABLE_MAINNET_TX=true