# =========================
# Universal Deposit Backend
# Node 22 LTS
# =========================

# Service toggles (default: run all if unset)
RUN_API=true
RUN_BALANCE_WATCHER=true
RUN_DEPLOY_WORKER=true
RUN_SETTLE_WORKER=true

# API
API_PORT=3000
API_SECRET_KEY=dev-secret

# Datastores
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/universal_deposit
REDIS_URL=redis://localhost:6379
RABBITMQ_URL=amqp://admin:password@localhost:5672

# Rate limiting
RATE_LIMIT_WINDOW_MS=86400000
RATE_LIMIT_MAX_REQUESTS=100

# Residual delays (ms) - 1h,3h,6h,12h,24h
RESIDUAL_DELAY_SCHEDULE=3600000,10800000,21600000,43200000,86400000

# Chains & RPC (example endpoints - replace with real)
EDU_CHAIN_RPC_URL=https://rpc.edu.chain
GNOSIS_CHAIN_RPC_URL=https://rpc.gnosischain.com
CHIDAO_CHAIN_RPC_URL=https://rpc.chidao.testnet
EDU_CHAIN_ID=41923
GNOSIS_CHAIN_ID=100
# CHIDAO_CHAIN_ID=XXXXX

# Contracts (to be provided by DevOps)
PROXY_FACTORY_ADDRESS_EDU=0x0000000000000000000000000000000000000000
UD_MANAGER_ADDRESS_EDU=0x0000000000000000000000000000000000000000
USDC_ADDRESS_EDU=0x0000000000000000000000000000000000000000
STARGATE_TOKEN_ADDRESS_EDU=0x0000000000000000000000000000000000000000

PROXY_FACTORY_ADDRESS_CHIDAO=0x0000000000000000000000000000000000000000
UD_MANAGER_ADDRESS_CHIDAO=0x0000000000000000000000000000000000000000
USDC_ADDRESS_CHIDAO=0x0000000000000000000000000000000000000000
STARGATE_TOKEN_ADDRESS_CHIDAO=0x0000000000000000000000000000000000000000

PROXY_FACTORY_ADDRESS_GNOSIS=0x0000000000000000000000000000000000000000
USDC_ADDRESS_GNOSIS=0x0000000000000000000000000000000000000000

# Keys (use secure management in prod; fund settlement key with native gas)
DEPLOYMENT_PRIVATE_KEY=0x0000000000000000000000000000000000000000000000000000000000000000
SETTLEMENT_PRIVATE_KEY=0x0000000000000000000000000000000000000000000000000000000000000000

# Policy flags / testing
VERIFY_DEST_CHAIN=false
MIN_BRIDGE_AMOUNT=1000000
MAX_BRIDGE_AMOUNT=10000000000
BALANCE_CHECK_INTERVAL_MS=30000
ENABLE_MAINNET_TX=false
